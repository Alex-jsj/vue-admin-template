{"version":3,"sources":["webpack:///src/components/cropper/index.vue","webpack:///./src/components/cropper/index.vue?79d3","webpack:///./src/components/cropper/index.vue","webpack:///src/pages/film/component/add_edit.vue","webpack:///./src/pages/film/component/add_edit.vue?0ca6","webpack:///./src/pages/film/component/add_edit.vue","webpack:///src/pages/film/add.vue","webpack:///./src/pages/film/add.vue?6256","webpack:///./src/pages/film/add.vue"],"names":["cropper","name","data","option","img","size","outputType","info","infoTrue","canScale","autoCrop","autoCropWidth","autoCropHeight","canMove","original","canMoveBox","fixedBox","full","centerBox","high","fileUpload","downImg","crap","previews","props","config","Object","id","String","methods","changeScale","num","this","$refs","rotateLeft","rotateRight","realTime","upload","type","_this","formData","FormData","getCropBlob","console","log","toFixed","append","$http","post","ajaxAddress","headers","Authorization","localStorage","getItem","Content-Type","then","res","$message","success","catch","err","error","down","_this2","aLink","document","createElement","download","window","URL","createObjectURL","href","click","getCropData","uploadImg","e","_this3","file","target","files","message","test","value","alert","reader","FileReader","onload","typeof_default","result","Blob","readAsArrayBuffer","imgLoad","msg","components_cropper","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","outputSize","on","_v","style","width","w","height","h","overflow","src","url","for","staticStyle","position","clip","accept","change","$event","_e","staticRenderFns","src_components_cropper","__webpack_require__","normalizeComponent","ssrContext","add_edit","recommendList","label","children","classifyList","title","years","uploadUrl","loading","form","lan","photo","video","classify","time","director","recommend","filmLang","formError","rules","required","trigger","year","uploadConfig","components","tinymceEditor","resetForm","resetFields","submitForm","that","validate","valid","JSON","parse","stringify_default","_form","match_name","key","list","code","formName","errList","errors","_key","component_add_edit","margin","model","label-width","prop","callback","$$v","$set","expression","_l","item","index","options","add_edit_Component","add_edit_normalizeComponent","__webpack_exports__","add","AddEdit","film_add","Component"],"mappings":"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","file":"static/js/11.56bded0ed4cd9eef1aed.js","sourcesContent":["<template>\n\t<div class=\"cropperComponent\">\n\t\t<div class=\"cropper-content\">\n\t\t\t<div class=\"cropper\">\n\t\t\t\t<vueCropper\n\t\t\t\t\tref=\"cropper\"\n\t\t\t\t\t:img=\"option.img\"\n\t\t\t\t\t:outputSize=\"option.size\"\n\t\t\t\t\t:outputType=\"option.outputType\"\n\t\t\t\t\t:info=\"option.info\"\n\t\t\t\t\t:infoTrue=\"option.infoTrue\"\n\t\t\t\t\t:full=\"option.full\"\n\t\t\t\t\t:canMove=\"option.canMove\"\n\t\t\t\t\t:canMoveBox=\"option.canMoveBox\"\n\t\t\t\t\t:original=\"option.original\"\n\t\t\t\t\t:autoCrop=\"option.autoCrop\"\n\t\t\t\t\t:autoCropWidth=\"option.autoCropWidth\"\n\t\t\t\t\t:autoCropHeight=\"option.autoCropHeight\"\n\t\t\t\t\t:fixedBox=\"option.fixedBox\"\n\t\t\t\t\t@realTime=\"realTime\"\n\t\t\t\t\t@imgLoad=\"imgLoad\"\n\t\t\t\t></vueCropper>\n\t\t\t</div>\n\t\t\t<div class=\"show-preview\" :style=\"{'width': previews.w + 'px', 'height': previews.h + 'px',  'overflow': 'hidden'}\">\n\t\t\t\t<div :style=\"previews.div\" class=\"preview\">\n\t\t\t\t\t<img :src=\"previews.url\" :style=\"previews.img\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"footer-btn\">\n\t\t\t<div class=\"scope-btn\">\n\t\t\t\t<label class=\"uploads\" :for=\"id\">更换图片</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t:id=\"id\"\n\t\t\t\t\tstyle=\"position:absolute; clip:rect(0 0 0 0);\"\n\t\t\t\t\taccept=\"image/png, image/jpeg, image/gif, image/jpg\"\n\t\t\t\t\t@change=\"uploadImg($event, 1)\"\n\t\t\t\t>\n\t\t\t\t<el-button  class=\"btn\" @click=\"changeScale(1)\">\n\t\t\t\t\t<i class=\"iconfont icon-enlarge\"></i>\n\t\t\t\t</el-button>\n\t\t\t\t<el-button  class=\"btn\" @click=\"changeScale(-1)\">\n\t\t\t\t\t<i class=\"iconfont icon-narrow\"></i>\n\t\t\t\t</el-button>\n\t\t\t\t<el-button  class=\"btn\" @click=\"rotateLeft\">\n\t\t\t\t\t<i class=\"iconfont icon-left-rotate\"></i>\n\t\t\t\t</el-button>\n\t\t\t\t<el-button  class=\"btn\" @click=\"rotateRight\">\n\t\t\t\t\t<i class=\"iconfont icon-right-rotate\"></i>\n\t\t\t\t</el-button>\n\t\t\t</div>\n\t\t\t<div class=\"upload-btn\">\n\t\t\t\t<el-button  class=\"btn\" @click=\"upload('blob')\" v-if=\"option.img\">\n\t\t\t\t\t<i class=\"iconfont icon-intro\"></i>\n\t\t\t\t\t上传\n\t\t\t\t</el-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\t// https://github.com/xyxiao001/vue-cropper\n\tname: \"cropperComponent\",\n\tdata() {\n\t\treturn {\n\t\t\toption: {\n\t\t\t\timg: \"\", //裁剪图片的地址  url 地址 || base64 || blob\n\t\t\t\tsize: 1, //裁剪生成图片的质量  0.1 - 1\n\t\t\t\toutputType: \"webp\", // 裁剪生成图片的格式  jpeg || png || webp\n\t\t\t\tinfo: true, //裁剪框的大小信息\n\t\t\t\tinfoTrue: true, //裁剪框的大小信息\n\t\t\t\tcanScale: true, //图片是否允许滚轮缩放\n\t\t\t\tautoCrop: true, //是否默认生成截图框\n\t\t\t\tautoCropWidth: 280,\n\t\t\t\tautoCropHeight: 160,\n\t\t\t\tcanMove: true, //上传图片是否可以移动\n\t\t\t\toriginal: false, //上传图片按照原始比例渲染\n\t\t\t\tcanMoveBox: true, //截图框能否拖动\n\t\t\t\tfixedBox: false, //固定截图框大小 不允许改变\n\t\t\t\tfull: false, //是否输出原图比例的截图\n\t\t\t\tcenterBox: true, //截图框是否被限制在图片里面\n\t\t\t\thigh: true //是否按照设备的dpr 输出等比例图片\n\t\t\t},\n\t\t\tfileUpload: {},\n\t\t\tdownImg: \"#\",\n\t\t\tcrap: false,\n\t\t\tpreviews: {}\n\t\t};\n\t},\n\tprops: {\n\t\t// 配置\n\t\tconfig: Object,\n\t\tid: String\n\t},\n\tmethods: {\n\t\tchangeScale(num) {\n\t\t\tnum = num || 1;\n\t\t\tthis.$refs.cropper.changeScale(num);\n\t\t},\n\t\trotateLeft() {\n\t\t\tthis.$refs.cropper.rotateLeft();\n\t\t},\n\t\trotateRight() {\n\t\t\tthis.$refs.cropper.rotateRight();\n\t\t},\n\t\t// 实时预览函数\n\t\trealTime(data) {\n\t\t\tthis.previews = data;\n\t\t},\n\t\tupload(type) {\n\t\t\tlet formData = new FormData();\n\t\t\tif (type === \"blob\") {\n\t\t\t\tthis.$refs.cropper.getCropBlob(data => {\n\t\t\t\t\t// let img = window.URL.createObjectURL(data);\n\t\t\t\t\tconsole.log((data.size / 1024).toFixed(0) + \"kb\");\n\t\t\t\t\tformData.append(\"file\", data);\n\t\t\t\t\tthis.$http\n\t\t\t\t\t\t.post(this.config.ajaxAddress, formData, {\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `token ${localStorage.getItem(\n\t\t\t\t\t\t\t\t\t\"admin_token\"\n\t\t\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\t\tthis.$message.success(`success!`);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.$message.error(\"网络错误，请重试\");\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// 预留\n\t\t\t}\n\t\t},\n\t\t// 下载图片\n\t\tdown(type) {\n\t\t\tconsole.log(\"down\");\n\t\t\tvar aLink = document.createElement(\"a\");\n\t\t\taLink.download = \"author-img\";\n\t\t\tif (type === \"blob\") {\n\t\t\t\tthis.$refs.cropper.getCropBlob(data => {\n\t\t\t\t\tthis.downImg = window.URL.createObjectURL(data);\n\t\t\t\t\taLink.href = window.URL.createObjectURL(data);\n\t\t\t\t\taLink.click();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.$refs.cropper.getCropData(data => {\n\t\t\t\t\tthis.downImg = data;\n\t\t\t\t\taLink.href = data;\n\t\t\t\t\taLink.click();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tuploadImg(e, num) {\n\t\t\t//上传图片\n\t\t\t// this.option.img\n\t\t\tvar file = e.target.files[0];\n\t\t\tconsole.log((e.target.files[0].size / 1024).toFixed(0) + \"kb\");\n\t\t\tif (e.target.files[0].size / 1024 / 1024 > 1) {\n\t\t\t\tthis.$message({\n\t\t\t\t\tmessage: \"上传图片不能超过1M\",\n\t\t\t\t\ttype: \"warning\"\n\t\t\t\t});\n\t\t\t\t// 超过1M\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.fileUpload = file;\n\t\t\tif (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n\t\t\t\talert(\"图片类型必须是.gif,jpeg,jpg,png,bmp中的一种\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = e => {\n\t\t\t\tlet data;\n\t\t\t\tif (typeof e.target.result === \"object\") {\n\t\t\t\t\t// 把Array Buffer转化为blob 如果是base64不需要\n\t\t\t\t\tdata = window.URL.createObjectURL(\n\t\t\t\t\t\tnew Blob([e.target.result])\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tdata = e.target.result;\n\t\t\t\t}\n\t\t\t\tif (num === 1) {\n\t\t\t\t\tthis.option.img = data;\n\t\t\t\t}\n\t\t\t};\n\t\t\t// reader.readAsDataURL(file); // 转化为base64\n\t\t\treader.readAsArrayBuffer(file); // 转化为blob\n\t\t},\n\t\timgLoad(msg) {\n\t\t\tconsole.log(msg);\n\t\t}\n\t}\n};\n</script>\n<style lang=\"less\" scoped>\n.cropperComponent {\n\twidth: 100%;\n\theight: 400px;\n\tmargin: 0 auto;\n\t.cropper-content {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\t.cropper {\n\t\t\twidth: 400px;\n\t\t\theight: 300px;\n\t\t}\n\t\t.show-preview {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\t.preview {\n\t\t\t\toverflow: hidden;\n\t\t\t\tborder: 1px solid #cccccc;\n\t\t\t\tbackground: #cccccc;\n\t\t\t\tmargin-left: 40px;\n\t\t\t}\n\t\t}\n\t}\n\t.footer-btn {\n\t\tmargin-top: 30px;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\t.scope-btn {\n\t\t\twidth: 400px;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t}\n\t\t.upload-btn {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t}\n\t\t.btn {\n\t\t\t.iconfont {\n\t\t\t\tfont-size: 20px;\n\t\t\t}\n\t\t}\n\t\t.uploads {\n\t\t\tborder: 1px solid #dcdfe6;\n\t\t\tpadding: 0 15px;\n\t\t\tborder-radius: 4px;\n\t\t\tcursor: pointer;\n\t\t\tcolor: #606266;\n\t\t\ttransition: 0.1s;\n\t\t\t&:hover {\n\t\t\t\tcolor: #409eff;\n\t\t\t\tborder-color: #c6e2ff;\n\t\t\t\tbackground-color: #ecf5ff;\n\t\t\t}\n\t\t\t&:active {\n\t\t\t\tcolor: #3a8ee6;\n\t\t\t\tborder-color: #3a8ee6;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/cropper/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cropperComponent\"},[_c('div',{staticClass:\"cropper-content\"},[_c('div',{staticClass:\"cropper\"},[_c('vueCropper',{ref:\"cropper\",attrs:{\"img\":_vm.option.img,\"outputSize\":_vm.option.size,\"outputType\":_vm.option.outputType,\"info\":_vm.option.info,\"infoTrue\":_vm.option.infoTrue,\"full\":_vm.option.full,\"canMove\":_vm.option.canMove,\"canMoveBox\":_vm.option.canMoveBox,\"original\":_vm.option.original,\"autoCrop\":_vm.option.autoCrop,\"autoCropWidth\":_vm.option.autoCropWidth,\"autoCropHeight\":_vm.option.autoCropHeight,\"fixedBox\":_vm.option.fixedBox},on:{\"realTime\":_vm.realTime,\"imgLoad\":_vm.imgLoad}})],1),_vm._v(\" \"),_c('div',{staticClass:\"show-preview\",style:({'width': _vm.previews.w + 'px', 'height': _vm.previews.h + 'px',  'overflow': 'hidden'})},[_c('div',{staticClass:\"preview\",style:(_vm.previews.div)},[_c('img',{style:(_vm.previews.img),attrs:{\"src\":_vm.previews.url}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"footer-btn\"},[_c('div',{staticClass:\"scope-btn\"},[_c('label',{staticClass:\"uploads\",attrs:{\"for\":_vm.id}},[_vm._v(\"更换图片\")]),_vm._v(\" \"),_c('input',{staticStyle:{\"position\":\"absolute\",\"clip\":\"rect(0 0 0 0)\"},attrs:{\"type\":\"file\",\"id\":_vm.id,\"accept\":\"image/png, image/jpeg, image/gif, image/jpg\"},on:{\"change\":function($event){_vm.uploadImg($event, 1)}}}),_vm._v(\" \"),_c('el-button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeScale(1)}}},[_c('i',{staticClass:\"iconfont icon-enlarge\"})]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeScale(-1)}}},[_c('i',{staticClass:\"iconfont icon-narrow\"})]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn\",on:{\"click\":_vm.rotateLeft}},[_c('i',{staticClass:\"iconfont icon-left-rotate\"})]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn\",on:{\"click\":_vm.rotateRight}},[_c('i',{staticClass:\"iconfont icon-right-rotate\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"upload-btn\"},[(_vm.option.img)?_c('el-button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.upload('blob')}}},[_c('i',{staticClass:\"iconfont icon-intro\"}),_vm._v(\"\\n\\t\\t\\t\\t上传\\n\\t\\t\\t\")]):_vm._e()],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e65c6a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/cropper/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e65c6a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e65c6a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e65c6a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cropper/index.vue\n// module id = null\n// module chunks = ","<template>\n\t<div id=\"add_edit\">\n\t\t<el-form :model=\"form\" label-width=\"110px\" :rules=\"rules\" ref=\"form\" style=\"width:1000px;margin:0 auto;\">\n\t\t\t<el-form-item label=\"语言：\" prop=\"lan\" :error=\"formError.lan\">\n\t\t\t\t<el-select v-model=\"form.lan\" style=\"width:100%;\">\n\t\t\t\t\t<el-option v-for=\"(item,index) in ['中文', 'English']\" :key=\"index\" :label=\"item\" :value=\"item\"></el-option>\n\t\t\t\t</el-select>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"分类：\" prop=\"classify\" :error=\"formError.classify\">\n\t\t\t\t<el-select v-model=\"form.classify\" style=\"width:100%;\">\n\t\t\t\t\t<el-option v-for=\"(item,index) in classifyList\" :key=\"item.id\" :label=\"item.title\" :value=\"item.id\"></el-option>\n\t\t\t\t</el-select>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"年份：\" prop=\"year\" :error=\"formError.year\">\n\t\t\t\t<el-select v-model=\"form.year\" style=\"width:100%;\">\n\t\t\t\t\t<el-option v-for=\"(item,index) in years\" :key=\"index\" :label=\"item\" :value=\"item\"></el-option>\n\t\t\t\t</el-select>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"片名：\" prop=\"title\" :error=\"formError.title\">\n\t\t\t\t<el-input v-model=\"form.title\"></el-input>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"影片语言：\" prop=\"filmLang\" :error=\"formError.filmLang\">\n\t\t\t\t<el-input v-model=\"form.filmLang\"></el-input>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"时长：\" prop=\"time\" :error=\"formError.time\">\n\t\t\t\t<el-input v-model=\"form.time\"></el-input>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"导演：\" prop=\"director\" :error=\"formError.director\">\n\t\t\t\t<el-input v-model=\"form.director\"></el-input>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"类型：\" prop=\"type\" :error=\"formError.type\">\n\t\t\t\t<el-input v-model=\"form.type\"></el-input>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"获奖影片推荐：\">\n\t\t\t\t<el-cascader :options=\"recommendList\" v-model=\"form.recommend\" style=\"width:100%;\"></el-cascader>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"展示图片：\" prop=\"photo\" :error=\"formError.photo\">\n\t\t\t\t<cropper :config=\"uploadConfig\" :id=\"'id1'\"></cropper>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"视频文件：\" prop=\"video\" :error=\"formError.video\">\n\t\t\t\t<el-input v-model=\"form.video\" type=\"file\"></el-input>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"简介：\">\n\t\t\t\t<!-- 富文本编辑器 -->\n\t\t\t\t<tinymceEditor></tinymceEditor>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item>\n\t\t\t\t<el-button type=\"primary\" class=\"my-button\" size=\"small\" :loading=\"loading\" @click=\"submitForm()\">提 交</el-button>\n\t\t\t\t<el-button class=\"my-button\" size=\"small\" @click=\"resetForm()\">重 置</el-button>\n\t\t\t</el-form-item>\n\t\t</el-form>\n\t</div>\n</template>\n\n<script>\n// api\nimport * as theApi from \"api/film/list\";\nimport tinymceEditor from \"components/tinymce/tinymceEditor\"; // 富文本编辑器\nimport cropper from \"components/cropper\"; // 图片裁剪\nexport default {\n\tname: \"film_add_edit\",\n\tdata() {\n\t\treturn {\n\t\t\trecommendList: [\n\t\t\t\t{\n\t\t\t\t\tvalue: \"tm\",\n\t\t\t\t\tlabel: \"D20提名\",\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: \"shejiyuanze\",\n\t\t\t\t\t\t\tlabel: \"D20年度作品\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: \"daohang\",\n\t\t\t\t\t\t\tlabel: \"D20年度作者\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: \"daohang\",\n\t\t\t\t\t\t\tlabel: \"D20年度新锐\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"ct\",\n\t\t\t\t\tlabel: \"IDF创投\",\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: \"yx\",\n\t\t\t\t\t\t\tlabel: \"IDF优选提案\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: \"py\",\n\t\t\t\t\tlabel: \"IDF培育计划\",\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: \"2\",\n\t\t\t\t\t\t\tlabel: \"最具潜力发展计划\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tclassifyList: [\n\t\t\t\t{\n\t\t\t\t\tid: 1,\n\t\t\t\t\ttitle: \"D20提名\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\ttitle: \"IDF创投\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 3,\n\t\t\t\t\ttitle: \"IDF论坛\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tyears: [\"2017\", \"2018\", \"2019\"],\n\t\t\t// 图片上传地址\n\t\t\tuploadUrl: `${process.env.API_ROOT}/student_attach`,\n\t\t\t// 数据loading\n\t\t\tloading: false,\n\t\t\t// form\n\t\t\tform: {\n\t\t\t\tlan: \"中文\",\n\t\t\t\ttitle: \"\",\n\t\t\t\tphoto: \"\",\n\t\t\t\tvideo: \"\",\n\t\t\t\tclassify: \"\",\n\t\t\t\ttype: \"\",\n\t\t\t\ttime: \"\",\n\t\t\t\tdirector: \"\",\n\t\t\t\trecommend: [],\n\t\t\t\tfilmLang: \"\"\n\t\t\t},\n\t\t\t// 后端错误提示\n\t\t\tformError: {\n\t\t\t\tphoto: \"\"\n\t\t\t},\n\t\t\trules: {\n\t\t\t\ttitle: [\n\t\t\t\t\t{ required: true, message: \"请输入片名\", trigger: \"blur\" }\n\t\t\t\t],\n\t\t\t\ttype: [\n\t\t\t\t\t{ required: true, message: \"请输入类型\", trigger: \"blur\" }\n\t\t\t\t],\n\t\t\t\ttime: [\n\t\t\t\t\t{ required: true, message: \"请输入时长\", trigger: \"blur\" }\n\t\t\t\t],\n\t\t\t\tdirector: [\n\t\t\t\t\t{ required: true, message: \"请输入导演\", trigger: \"blur\" }\n\t\t\t\t],\n\t\t\t\tfilmLang: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: \"请输入影片语言\",\n\t\t\t\t\t\ttrigger: \"blur\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tyear: [\n\t\t\t\t\t{ required: true, message: \"请选择年份\", trigger: \"change\" }\n\t\t\t\t],\n\t\t\t\tlan: [\n\t\t\t\t\t{ required: true, message: \"请选择语言\", trigger: \"change\" }\n\t\t\t\t],\n\t\t\t\tclassify: [\n\t\t\t\t\t{ required: true, message: \"请选择分类\", trigger: \"change\" }\n\t\t\t\t],\n\t\t\t\tphoto: [\n\t\t\t\t\t{ required: true, message: \"请选择图片\", trigger: \"change\" }\n\t\t\t\t],\n\t\t\t\tvideo: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: \"请上传视频\",\n\t\t\t\t\t\ttrigger: \"change\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tuploadConfig: {\n\t\t\t\tajaxAddress: `https://jsonplaceholder.typicode.com/posts/`,\n\t\t\t\tautoCropWidth: 200,\n\t\t\t\tautoCropHeight: 200\n\t\t\t}\n\t\t};\n\t},\n\tprops: {\n\t\ttype: String // add edit\n\t},\n\tcomponents: { tinymceEditor, cropper },\n\tmethods: {\n\t\t// 重置\n\t\tresetForm: function() {\n\t\t\tthis.$refs.form.resetFields(); // 对该表单项进行重置，将其值重置为初始值并移除校验结果\n\t\t\tthis.formError = {}; // 移除后端校验结果\n\t\t},\n\t\t// 弹框内容提交\n\t\tsubmitForm() {\n\t\t\tconst that = this;\n\t\t\tthat.formError = {};\n\t\t\tthat.$refs[\"form\"].validate(function(valid) {\n\t\t\t\tif (valid) {\n\t\t\t\t\tthat.loading = true;\n\t\t\t\t\t// data\n\t\t\t\t\tlet data = JSON.parse(JSON.stringify(that[_form]));\n\t\t\t\t\t// ajax\n\t\t\t\t\tlet match_name = `${that.type}Item`;\n\t\t\t\t\tfor (let key in theApi) {\n\t\t\t\t\t\tif (match_name === key) {\n\t\t\t\t\t\t\t// ajax\n\t\t\t\t\t\t\ttheApi[key](data)\n\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\tthat.loading = false;\n\t\t\t\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\t\t\t\t// 关闭弹框\n\t\t\t\t\t\t\t\t\t\tif (formName == \"add\") {\n\t\t\t\t\t\t\t\t\t\t\t// 新增\n\t\t\t\t\t\t\t\t\t\t\tthat.$message.success(\"新增成功\");\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t// 编辑\n\t\t\t\t\t\t\t\t\t\t\tthat.$message.success(\n\t\t\t\t\t\t\t\t\t\t\t\t\"数据更新成功\"\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// 在表单中输出错误提示\n\t\t\t\t\t\t\t\t\t\tconst errList = res.errors || \"\";\n\t\t\t\t\t\t\t\t\t\tif (errList) {\n\t\t\t\t\t\t\t\t\t\t\tfor (let key in errList) {\n\t\t\t\t\t\t\t\t\t\t\t\terrList[key] = errList[key][0];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tthat.formError = errList;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\t\t\tthat.loading = false;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthat.loading = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/film/component/add_edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"add_edit\"}},[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"1000px\",\"margin\":\"0 auto\"},attrs:{\"model\":_vm.form,\"label-width\":\"110px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"语言：\",\"prop\":\"lan\",\"error\":_vm.formError.lan}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.form.lan),callback:function ($$v) {_vm.$set(_vm.form, \"lan\", $$v)},expression:\"form.lan\"}},_vm._l((['中文', 'English']),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类：\",\"prop\":\"classify\",\"error\":_vm.formError.classify}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.form.classify),callback:function ($$v) {_vm.$set(_vm.form, \"classify\", $$v)},expression:\"form.classify\"}},_vm._l((_vm.classifyList),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.title,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"年份：\",\"prop\":\"year\",\"error\":_vm.formError.year}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.form.year),callback:function ($$v) {_vm.$set(_vm.form, \"year\", $$v)},expression:\"form.year\"}},_vm._l((_vm.years),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"片名：\",\"prop\":\"title\",\"error\":_vm.formError.title}},[_c('el-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"影片语言：\",\"prop\":\"filmLang\",\"error\":_vm.formError.filmLang}},[_c('el-input',{model:{value:(_vm.form.filmLang),callback:function ($$v) {_vm.$set(_vm.form, \"filmLang\", $$v)},expression:\"form.filmLang\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"时长：\",\"prop\":\"time\",\"error\":_vm.formError.time}},[_c('el-input',{model:{value:(_vm.form.time),callback:function ($$v) {_vm.$set(_vm.form, \"time\", $$v)},expression:\"form.time\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"导演：\",\"prop\":\"director\",\"error\":_vm.formError.director}},[_c('el-input',{model:{value:(_vm.form.director),callback:function ($$v) {_vm.$set(_vm.form, \"director\", $$v)},expression:\"form.director\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型：\",\"prop\":\"type\",\"error\":_vm.formError.type}},[_c('el-input',{model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"获奖影片推荐：\"}},[_c('el-cascader',{staticStyle:{\"width\":\"100%\"},attrs:{\"options\":_vm.recommendList},model:{value:(_vm.form.recommend),callback:function ($$v) {_vm.$set(_vm.form, \"recommend\", $$v)},expression:\"form.recommend\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"展示图片：\",\"prop\":\"photo\",\"error\":_vm.formError.photo}},[_c('cropper',{attrs:{\"config\":_vm.uploadConfig,\"id\":'id1'}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"视频文件：\",\"prop\":\"video\",\"error\":_vm.formError.video}},[_c('el-input',{attrs:{\"type\":\"file\"},model:{value:(_vm.form.video),callback:function ($$v) {_vm.$set(_vm.form, \"video\", $$v)},expression:\"form.video\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"简介：\"}},[_c('tinymceEditor')],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"my-button\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"loading\":_vm.loading},on:{\"click\":function($event){_vm.submitForm()}}},[_vm._v(\"提 交\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"my-button\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.resetForm()}}},[_vm._v(\"重 置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a188e2d0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/film/component/add_edit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add_edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add_edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a188e2d0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add_edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/film/component/add_edit.vue\n// module id = null\n// module chunks = ","<template>\n\t<div id=\"add_film\">\n\t\t<AddEdit type=\"add\"></AddEdit>\n\t</div>\n</template>\n<script>\n// api\nimport AddEdit from \"./component/add_edit\"; // 图片裁剪\nexport default {\n\tname: \"add_film\",\n\tcomponents: { AddEdit }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/film/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"add_film\"}},[_c('AddEdit',{attrs:{\"type\":\"add\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47d848b8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/film/add.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47d848b8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/film/add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}